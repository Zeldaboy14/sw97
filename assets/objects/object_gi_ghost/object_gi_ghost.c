#include "ultra64.h"
#include "z64.h"
#include "macros.h"
#include "object_gi_ghost.h"

static Vtx object_gi_ghostVtx_000400[3];
static Vtx object_gi_ghostVtx_000430[29];
static Vtx object_gi_ghostVtx_000600[24];
static Vtx object_gi_ghostVtx_000780[3];
static Vtx object_gi_ghostVtx_0007B0[22];
static Vtx object_gi_ghostVtx_000910[4];

u64 object_gi_ghostTex_000000[] = {
#include "assets/objects/object_gi_ghost//object_gi_ghostTex_000000.i8.inc.c"
};

u64 object_gi_ghostTex_000200[] = {
#include "assets/objects/object_gi_ghost//object_gi_ghostTex_000200.i8.inc.c"
};

static Vtx object_gi_ghostVtx_000400[3] = {
    VTX(-8, 13, -5, -87, 1800, 230, 140, 243, 255),
    VTX(-15, 17, 0, 0, 1663, 159, 186, 8, 255),
    VTX(-10, 16, -10, -127, 1678, 198, 190, 175, 255),
}; 

static Vtx object_gi_ghostVtx_000430[29] = {
    VTX(1, 13, -11, 759, 1775, 253, 158, 188, 255),
    VTX(-10, 16, -10, 897, 1678, 198, 190, 175, 255),
    VTX(8, 21, -15, 691, 1571, 32, 213, 149, 255),
    VTX(16, 21, -6, 574, 1575, 107, 4, 203, 255),
    VTX(4, 28, -16, 724, 1440, 34, 68, 164, 255),
    VTX(10, 29, -8, 622, 1398, 79, 87, 232, 255),
    VTX(5, 17, 15, 309, 1646, 31, 205, 104, 255),
    VTX(16, 21, 6, 450, 1575, 110, 245, 45, 255),
    VTX(4, 26, 16, 300, 1469, 32, 63, 96, 255),
    VTX(-16, 25, -6, 962, 1497, 154, 34, 205, 255),
    VTX(-6, 24, -15, 828, 1505, 212, 7, 145, 255),
    VTX(-8, 33, 0, 1024, 1252, 213, 111, 2, 255),
    VTX(1, 32, -6, 732, 1214, 17, 116, 234, 255),
    VTX(-6, 29, -12, 841, 1392, 216, 92, 191, 255),
    VTX(6, 13, 7, 377, 1800, 26, 145, 36, 255),
    VTX(-10, 16, -10, -127, 1678, 198, 190, 175, 255),
    VTX(-15, 17, 0, 0, 1663, 159, 186, 8, 255),
    VTX(-16, 25, -6, -62, 1497, 154, 34, 205, 255),
    VTX(-8, 13, -5, -87, 1800, 230, 140, 243, 255),
    VTX(11, 13, -5, 579, 1759, 57, 153, 233, 255),
    VTX(-7, 13, 8, 134, 1775, 220, 147, 34, 255),
    VTX(-6, 17, 14, 192, 1648, 205, 190, 86, 255),
    VTX(-16, 25, 6, 62, 1497, 157, 39, 54, 255),
    VTX(-8, 33, 0, 0, 1252, 213, 111, 2, 255),
    VTX(-6, 24, 15, 196, 1505, 217, 28, 109, 255),
    VTX(-4, 29, 11, 201, 1382, 225, 97, 63, 255),
    VTX(10, 29, 8, 402, 1398, 65, 96, 28, 255),
    VTX(-8, 13, -5, 937, 1800, 230, 140, 243, 255),
    VTX(1, 32, 5, 301, 1182, 12, 115, 31, 255),
}; 

static Vtx object_gi_ghostVtx_000600[24] = {
    VTX(-23, 13, 7, 1024, 1024, 187, 69, 69, 255),
    VTX(-23, 7, -7, 525, 1010, 158, 207, 207, 255),
    VTX(-23, 7, 7, 1024, 1010, 207, 158, 49, 255),
    VTX(23, 7, 7, 1024, 0, 49, 207, 98, 255),
    VTX(23, 13, 7, 1024, 14, 98, 49, 49, 255),
    VTX(23, 7, -7, 525, 0, 69, 187, 187, 255),
    VTX(-23, 13, -7, 525, 1024, 207, 49, 158, 255),
    VTX(23, 13, -7, 525, 14, 49, 98, 207, 255),
    VTX(-23, 7, 22, 1549, 1010, 207, 158, 49, 255),
    VTX(-23, 13, 22, 1549, 1024, 187, 69, 69, 255),
    VTX(-23, 7, 8, 1050, 1010, 158, 207, 207, 255),
    VTX(-23, 13, 8, 1050, 1024, 207, 49, 158, 255),
    VTX(23, 13, 8, 1050, 14, 49, 98, 207, 255),
    VTX(23, 7, 8, 1050, 0, 69, 187, 187, 255),
    VTX(23, 13, 22, 1549, 14, 98, 49, 49, 255),
    VTX(23, 7, 22, 1549, 0, 49, 207, 98, 255),
    VTX(-23, 13, -8, 499, 1024, 187, 69, 69, 255),
    VTX(-23, 7, -22, 0, 1010, 158, 207, 207, 255),
    VTX(-23, 7, -8, 499, 1010, 207, 158, 49, 255),
    VTX(23, 7, -8, 499, 0, 49, 207, 98, 255),
    VTX(23, 13, -8, 499, 14, 98, 49, 49, 255),
    VTX(23, 7, -22, 0, 0, 69, 187, 187, 255),
    VTX(-23, 13, -22, 0, 1024, 207, 49, 158, 255),
    VTX(23, 13, -22, 0, 14, 49, 98, 207, 255),
}; 

static Vtx object_gi_ghostVtx_000780[3] = {
    VTX(-7, -33, 13, 171, 1839, 240, 141, 28, 255),
    VTX(-15, -33, 0, 0, 1839, 177, 166, 0, 255),
    VTX(-7, -33, -13, -171, 1839, 236, 153, 199, 255),
}; 

static Vtx object_gi_ghostVtx_0007B0[22] = {
    VTX(-7, -33, 13, 171, 1839, 240, 141, 28, 255),
    VTX(-7, -33, -13, -171, 1839, 236, 153, 199, 255),
    VTX(7, -33, -13, -341, 1839, 25, 147, 213, 255),
    VTX(15, -33, 0, 512, 1839, 66, 157, 0, 255),
    VTX(7, -33, 13, 341, 1839, 25, 163, 71, 255),
    VTX(-15, -33, 0, 0, 1839, 177, 166, 0, 255),
    VTX(-19, -27, 0, 0, 1747, 142, 224, 242, 255),
    VTX(-9, -27, -16, -171, 1747, 202, 216, 158, 255),
    VTX(-7, -33, -13, 853, 1839, 236, 153, 199, 255),
    VTX(-9, -27, -16, 853, 1747, 202, 216, 158, 255),
    VTX(9, -27, -16, 683, 1747, 64, 210, 166, 255),
    VTX(7, -33, -13, 683, 1839, 25, 147, 213, 255),
    VTX(19, -27, 0, 512, 1747, 114, 224, 14, 255),
    VTX(9, -27, 16, 341, 1747, 54, 216, 98, 255),
    VTX(-9, -27, 16, 171, 1747, 192, 210, 90, 255),
    VTX(-19, 7, 0, 0, 1274, 139, 0, 23, 255),
    VTX(-9, 7, -16, -171, 1274, 178, 0, 166, 255),
    VTX(-9, 7, -16, 853, 1274, 178, 0, 166, 255),
    VTX(9, 7, -16, 683, 1274, 39, 0, 143, 255),
    VTX(19, 7, 0, 512, 1274, 117, 0, 233, 255),
    VTX(9, 7, 16, 341, 1274, 78, 0, 90, 255),
    VTX(-9, 7, 16, 171, 1274, 217, 0, 113, 255),
}; 

static Vtx object_gi_ghostVtx_000910[4] = {
    VTX(24, -38, 0, 0, 1024, 0, 0, 120, 255),
    VTX(24, 26, 0, 0, 0, 0, 0, 120, 255),
    VTX(-24, 26, 0, 512, 0, 0, 0, 120, 255),
    VTX(-24, -38, 0, 512, 1024, 0, 0, 120, 255),
}; 

Gfx gGiPoeColorDL[] = {
    gsDPPipeSync(),
    gsDPSetPrimColor(0, 128, 0, 0, 50, 255),
    gsDPSetEnvColor(100, 0, 200, 255),
    gsSPEndDisplayList(),
}; 

Gfx gGiBigPoeColorDL[] = {
    gsDPPipeSync(),
    gsDPSetPrimColor(0, 128, 50, 100, 0, 255),
    gsDPSetEnvColor(150, 200, 0, 255),
    gsSPEndDisplayList(),
}; 

Gfx gGiGhostContainerLidDL[] = {
    gsDPPipeSync(),
    gsDPSetRenderMode(G_RM_PASS, G_RM_AA_ZB_TEX_EDGE2),
    gsDPSetCombineLERP(PRIMITIVE, ENVIRONMENT, TEXEL0, ENVIRONMENT, 0, 0, 0, 1,
                       COMBINED, K5, SHADE, COMBINED_ALPHA, 0, 0, 0, 1),
    gsDPSetPrimColor(0, 0, 120, 130, 100, 255),
    gsDPSetEnvColor(20, 30, 20, 255),
    gsDPSetTextureLUT(G_TT_NONE),
    gsSPTexture(2000, 2000, 0, 0, G_ON),
    gsDPSetTextureImage(G_IM_FMT_I, G_IM_SIZ_16b, 1, 0x04032490),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_16b, 0, 0, 7, 0, 0, 5, 1, 0, 5, 1),
    gsDPLoadSync(),
    gsDPLoadBlock(7, 0, 0, 511, 512),
    gsDPPipeSync(),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_8b, 4, 0, 0, 0, 0, 5, 1, 0, 5, 1),
    gsDPSetTileSize(0, 0, 0, 124, 124),
    gsSPClearGeometryMode(G_TEXTURE_ENABLE | G_FOG),
    gsSPSetGeometryMode(G_TEXTURE_ENABLE | G_CULL_BACK | G_LIGHTING | G_TEXTURE_GEN | G_TEXTURE_GEN_LINEAR),
    gsSPVertex(&object_gi_ghostVtx_000400[0], 3, 0),
    gsSP1Triangle(0, 1, 2, 0),
    gsSPVertex(&object_gi_ghostVtx_000430[0], 29, 0),
    gsSP2Triangles(0, 1, 2, 0, 3, 4, 5, 0),
    gsSP2Triangles(6, 7, 8, 0, 1, 9, 10, 0),
    gsSP2Triangles(11, 12, 13, 0, 2, 10, 4, 0),
    gsSP2Triangles(7, 6, 14, 0, 13, 4, 10, 0),
    gsSP2Triangles(15, 16, 17, 0, 10, 9, 13, 0),
    gsSP2Triangles(18, 19, 14, 0, 14, 20, 18, 0),
    gsSP2Triangles(16, 21, 22, 0, 17, 22, 23, 0),
    gsSP2Triangles(18, 20, 16, 0, 22, 17, 16, 0),
    gsSP2Triangles(21, 16, 20, 0, 22, 24, 25, 0),
    gsSP2Triangles(5, 26, 7, 0, 11, 13, 9, 0),
    gsSP2Triangles(21, 14, 6, 0, 24, 6, 8, 0),
    gsSP2Triangles(3, 7, 19, 0, 6, 24, 21, 0),
    gsSP2Triangles(14, 19, 7, 0, 26, 8, 7, 0),
    gsSP2Triangles(27, 0, 19, 0, 20, 14, 21, 0),
    gsSP2Triangles(19, 2, 3, 0, 7, 3, 5, 0),
    gsSP2Triangles(22, 21, 24, 0, 27, 1, 0, 0),
    gsSP2Triangles(2, 19, 0, 0, 4, 12, 5, 0),
    gsSP2Triangles(25, 23, 22, 0, 12, 4, 13, 0),
    gsSP2Triangles(10, 2, 1, 0, 4, 3, 2, 0),
    gsSP2Triangles(8, 25, 24, 0, 28, 26, 12, 0),
    gsSP2Triangles(8, 28, 25, 0, 5, 12, 26, 0),
    gsSP2Triangles(28, 8, 26, 0, 23, 25, 28, 0),
    gsSP1Triangle(28, 12, 23, 0),
    gsDPPipeSync(),
    gsDPSetPrimColor(0, 0, 100, 60, 0, 255),
    gsDPSetEnvColor(50, 20, 0, 255),
    gsSPTexture(65535, 65535, 0, 0, G_ON),
    gsDPSetTextureImage(G_IM_FMT_I, G_IM_SIZ_16b, 1, 0x04032C90),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_16b, 0, 0, 7, 0, 0, 5, 0, 0, 5, 0),
    gsDPLoadSync(),
    gsDPLoadBlock(7, 0, 0, 511, 512),
    gsDPPipeSync(),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_8b, 4, 0, 0, 0, 0, 5, 0, 0, 5, 0),
    gsDPSetTileSize(0, 0, 0, 124, 124),
    gsSPClearGeometryMode(G_TEXTURE_ENABLE | G_TEXTURE_GEN | G_TEXTURE_GEN_LINEAR),
    gsSPVertex(&object_gi_ghostVtx_000600[0], 24, 0),
    gsSP2Triangles(0, 1, 2, 0, 3, 4, 0, 0),
    gsSP2Triangles(4, 3, 5, 0, 6, 5, 1, 0),
    gsSP2Triangles(4, 7, 0, 0, 5, 3, 2, 0),
    gsSP2Triangles(1, 0, 6, 0, 0, 2, 3, 0),
    gsSP2Triangles(5, 7, 4, 0, 5, 6, 7, 0),
    gsSP2Triangles(6, 0, 7, 0, 2, 1, 5, 0),
    gsSP2Triangles(8, 9, 10, 0, 11, 12, 13, 0),
    gsSP2Triangles(13, 14, 15, 0, 8, 15, 9, 0),
    gsSP2Triangles(11, 9, 12, 0, 13, 8, 10, 0),
    gsSP2Triangles(11, 10, 9, 0, 13, 10, 11, 0),
    gsSP2Triangles(14, 13, 12, 0, 14, 9, 15, 0),
    gsSP2Triangles(14, 12, 9, 0, 8, 13, 15, 0),
    gsSP2Triangles(16, 17, 18, 0, 19, 20, 16, 0),
    gsSP2Triangles(20, 19, 21, 0, 22, 21, 17, 0),
    gsSP2Triangles(20, 23, 16, 0, 21, 19, 18, 0),
    gsSP2Triangles(17, 16, 22, 0, 16, 18, 19, 0),
    gsSP2Triangles(21, 23, 20, 0, 21, 22, 23, 0),
    gsSP2Triangles(22, 16, 23, 0, 18, 17, 21, 0),
    gsSPEndDisplayList(),
}; 

Gfx gGiGhostContainerGlassDL[] = {
    gsDPPipeSync(),
    gsDPSetRenderMode(G_RM_OPA_SURF, G_RM_AA_ZB_XLU_SURF2),
    gsDPSetCombineLERP(PRIMITIVE, ENVIRONMENT, TEXEL0, ENVIRONMENT, 0, 0, 0, TEXEL0,
                       COMBINED, K5, SHADE, COMBINED_ALPHA, 0, 0, 0, COMBINED),
    gsDPSetPrimColor(0, 0, 255, 230, 255, 255),
    gsDPSetEnvColor(120, 200, 150, 255),
    gsDPSetTextureLUT(G_TT_NONE),
    gsSPTexture(2700, 2700, 0, 0, G_ON),
    gsDPSetTextureImage(G_IM_FMT_I, G_IM_SIZ_16b, 1, 0x04032490),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_16b, 0, 0, 7, 0, 0, 5, 0, 0, 5, 0),
    gsDPLoadSync(),
    gsDPLoadBlock(7, 0, 0, 511, 512),
    gsDPPipeSync(),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_8b, 4, 0, 0, 0, 0, 5, 0, 0, 5, 0),
    gsDPSetTileSize(0, 0, 0, 124, 124),
    gsSPClearGeometryMode(G_TEXTURE_ENABLE | G_CULL_BACK | G_FOG),
    gsSPSetGeometryMode(G_TEXTURE_ENABLE | G_LIGHTING | G_TEXTURE_GEN | G_TEXTURE_GEN_LINEAR),
    gsSPVertex(&object_gi_ghostVtx_000780[0], 3, 0),
    gsSP1Triangle(0, 1, 2, 0),
    gsSPVertex(&object_gi_ghostVtx_0007B0[0], 22, 0),
    gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
    gsSP2Triangles(0, 3, 4, 0, 5, 6, 7, 0),
    gsSP2Triangles(5, 7, 1, 0, 8, 9, 10, 0),
    gsSP2Triangles(8, 10, 11, 0, 10, 12, 3, 0),
    gsSP2Triangles(11, 10, 3, 0, 3, 12, 13, 0),
    gsSP2Triangles(3, 13, 4, 0, 4, 13, 14, 0),
    gsSP2Triangles(4, 14, 0, 0, 14, 6, 5, 0),
    gsSP2Triangles(0, 14, 5, 0, 6, 15, 16, 0),
    gsSP2Triangles(6, 16, 7, 0, 9, 17, 18, 0),
    gsSP2Triangles(9, 18, 10, 0, 10, 18, 19, 0),
    gsSP2Triangles(10, 19, 12, 0, 12, 19, 20, 0),
    gsSP2Triangles(12, 20, 13, 0, 13, 20, 21, 0),
    gsSP2Triangles(13, 21, 14, 0, 14, 21, 15, 0),
    gsSP1Triangle(14, 15, 6, 0),
    gsSPEndDisplayList(),
}; 

Gfx gGiGhostContainerContentsDL[] = {
    gsDPPipeSync(),
    gsDPSetCombineLERP(COMBINED_ALPHA, K5, PRIM_LOD_FRAC, TEXEL0, TEXEL1, 1, 1, TEXEL0,
                       PRIMITIVE, ENVIRONMENT, COMBINED, ENVIRONMENT, 0, 0, 0, COMBINED),
    gsSPTexture(65535, 65535, 0, 0, G_ON),
    gsDPSetTextureImage(G_IM_FMT_I, G_IM_SIZ_16b, 1, object_gi_ghostTex_000000),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_16b, 0, 0, 7, 0, 2, 5, 0, 2, 4, 0),
    gsDPLoadSync(),
    gsDPLoadBlock(7, 0, 0, 255, 1024),
    gsDPPipeSync(),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_8b, 2, 0, 0, 0, 2, 5, 0, 2, 4, 0),
    gsDPSetTileSize(0, 0, 0, 60, 124),
    gsDPSetTextureImage(G_IM_FMT_I, G_IM_SIZ_16b, 1, object_gi_ghostTex_000200),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_16b, 0, 256, 7, 0, 0, 5, 15, 0, 4, 15),
    gsDPLoadSync(),
    gsDPLoadBlock(7, 0, 0, 255, 1024),
    gsDPPipeSync(),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_8b, 2, 256, 1, 0, 0, 5, 15, 0, 4, 15),
    gsDPSetTileSize(1, 0, 0, 60, 124),
    gsSPClearGeometryMode(G_TEXTURE_ENABLE | G_TEXTURE_GEN | G_TEXTURE_GEN_LINEAR),
    gsSPDisplayList(0x08000000),
    gsSPVertex(&object_gi_ghostVtx_000910[0], 4, 0),
    gsSP2Triangles(0, 1, 2, 0, 2, 3, 0, 0),
    gsDPPipeSync(),
    gsDPSetEnvColor(0, 0, 0, 128),
    gsSPEndDisplayList(),
}; 


