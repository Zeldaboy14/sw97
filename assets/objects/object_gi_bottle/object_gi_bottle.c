#include "ultra64.h"
#include "z64.h"
#include "macros.h"
#include "object_gi_bottle.h"

static Vtx object_gi_bottleVtx_000000[26];
static Vtx object_gi_bottleVtx_0001A0[3];
static Vtx object_gi_bottleVtx_0001D0[63];
static Vtx object_gi_bottleVtx_0005C0[11];

static Vtx object_gi_bottleVtx_000000[26] = {
    VTX(-5, 18, 0, 341, 471, 192, 156, 244, 255),
    VTX(-2, 18, -4, 525, 577, 225, 185, 165, 255),
    VTX(2, 18, -4, 525, 789, 43, 156, 207, 255),
    VTX(5, 30, -8, 853, 0, 37, 217, 149, 255),
    VTX(2, 18, -4, 853, 1024, 43, 156, 207, 255),
    VTX(-2, 18, -4, 1195, 1024, 225, 185, 165, 255),
    VTX(9, 30, 0, 512, 0, 111, 217, 235, 255),
    VTX(5, 18, 0, 512, 1024, 94, 185, 18, 255),
    VTX(5, 30, 8, 171, 0, 74, 217, 85, 255),
    VTX(2, 18, 4, 171, 1024, 21, 156, 62, 255),
    VTX(-5, 30, -8, 1195, 0, 182, 217, 171, 255),
    VTX(-5, 18, 0, 1536, 1024, 192, 156, 244, 255),
    VTX(-9, 30, 0, 341, 282, 0, 120, 0, 255),
    VTX(-5, 30, 8, -6, 482, 0, 120, 0, 255),
    VTX(5, 30, 8, -6, 883, 0, 120, 0, 255),
    VTX(-9, 30, 0, 1536, 0, 145, 217, 21, 255),
    VTX(-2, 18, 4, 1877, 1024, 193, 185, 73, 255),
    VTX(-5, 30, 8, 1877, 0, 219, 217, 107, 255),
    VTX(2, 18, 4, 2219, 1024, 21, 156, 62, 255),
    VTX(2, 18, 4, 158, 789, 21, 156, 62, 255),
    VTX(-2, 18, 4, 158, 577, 193, 185, 73, 255),
    VTX(5, 18, 0, 341, 894, 94, 185, 18, 255),
    VTX(5, 30, -8, 688, 883, 0, 120, 0, 255),
    VTX(-5, 30, -8, 688, 482, 0, 120, 0, 255),
    VTX(9, 30, 0, 341, 1083, 0, 120, 0, 255),
    VTX(5, 30, 8, 2219, 0, 74, 217, 85, 255),
}; 

static Vtx object_gi_bottleVtx_0001A0[3] = {
    VTX(6, 12, 10, 341, 1223, 50, 32, 104, 255),
    VTX(6, 23, 10, 341, 1152, 78, 0, 90, 255),
    VTX(-6, 23, 10, 171, 1152, 217, 0, 113, 255),
}; 

static Vtx object_gi_bottleVtx_0001D0[63] = {
    VTX(6, 12, 10, 341, 1223, 50, 32, 104, 255),
    VTX(-6, 23, 10, 171, 1152, 217, 0, 113, 255),
    VTX(-6, 12, 10, 171, 1223, 176, 31, 83, 255),
    VTX(-11, 23, 0, 0, 1152, 139, 0, 23, 255),
    VTX(-11, 12, 0, 0, 1223, 149, 52, 1, 255),
    VTX(-6, 12, -10, -171, 1223, 193, 81, 195, 255),
    VTX(-11, 7, -18, -171, 1383, 231, 94, 186, 255),
    VTX(-21, 7, 0, 0, 1383, 172, 81, 232, 255),
    VTX(-11, 12, 0, 0, 1223, 202, 102, 225, 255),
    VTX(-11, 7, -18, 853, 1383, 231, 94, 186, 255),
    VTX(-6, 12, -10, 853, 1223, 193, 81, 195, 255),
    VTX(6, 12, -10, 683, 1223, 0, 102, 194, 255),
    VTX(11, 7, -18, 683, 1383, 61, 88, 203, 255),
    VTX(6, 12, -10, 683, 1223, 80, 31, 173, 255),
    VTX(11, 12, 0, 512, 1223, 73, 94, 242, 255),
    VTX(21, 7, 0, 512, 1383, 95, 62, 220, 255),
    VTX(11, 7, 18, 341, 1383, 78, 51, 75, 255),
    VTX(11, 7, 18, 341, 1383, 0, 102, 62, 255),
    VTX(6, 12, 10, 341, 1223, 0, 102, 62, 255),
    VTX(-6, 12, 10, 171, 1223, 0, 102, 62, 255),
    VTX(-11, 7, 18, 171, 1383, 230, 75, 89, 255),
    VTX(-21, -27, 0, 0, 1807, 143, 219, 242, 255),
    VTX(-11, 7, -18, -171, 1383, 153, 0, 196, 255),
    VTX(-11, -27, -18, -171, 1807, 203, 210, 159, 255),
    VTX(-11, -27, -18, 853, 1807, 203, 210, 159, 255),
    VTX(11, 7, -18, 683, 1383, 0, 0, 136, 255),
    VTX(11, -27, -18, 683, 1807, 62, 204, 168, 255),
    VTX(21, -27, 0, 512, 1807, 113, 219, 14, 255),
    VTX(21, 7, 0, 512, 1383, 103, 0, 60, 255),
    VTX(11, -27, 18, 341, 1807, 53, 210, 97, 255),
    VTX(-11, -27, 18, 171, 1807, 194, 204, 88, 255),
    VTX(-11, -27, 18, 171, 1807, 194, 204, 88, 255),
    VTX(-11, 7, 18, 171, 1383, 153, 0, 60, 255),
    VTX(-21, 7, 0, 0, 1383, 153, 0, 60, 255),
    VTX(-21, -27, 0, 0, 1807, 143, 219, 242, 255),
    VTX(-11, -27, -18, -171, 1807, 203, 210, 159, 255),
    VTX(-9, -30, -15, -171, 1859, 238, 150, 204, 255),
    VTX(-18, -30, 0, 0, 1859, 185, 160, 0, 255),
    VTX(-9, -30, -15, 853, 1859, 238, 150, 204, 255),
    VTX(-11, -27, -18, 853, 1807, 203, 210, 159, 255),
    VTX(11, -27, -18, 683, 1807, 62, 204, 168, 255),
    VTX(9, -30, -15, 683, 1859, 22, 145, 217, 255),
    VTX(21, -27, 0, 512, 1807, 113, 219, 14, 255),
    VTX(18, -30, 0, 512, 1859, 60, 153, 0, 255),
    VTX(11, -27, 18, 341, 1807, 53, 210, 97, 255),
    VTX(9, -30, 15, 341, 1859, 22, 158, 64, 255),
    VTX(-9, -30, 15, 171, 1859, 241, 140, 25, 255),
    VTX(-11, 12, 0, 0, 1223, 149, 52, 1, 255),
    VTX(-11, 23, 0, 0, 1152, 139, 0, 23, 255),
    VTX(-6, 23, -10, -171, 1152, 178, 0, 166, 255),
    VTX(-6, 12, -10, -171, 1223, 193, 81, 195, 255),
    VTX(-6, 12, -10, 853, 1223, 0, 0, 136, 255),
    VTX(-6, 23, -10, 853, 1152, 178, 0, 166, 255),
    VTX(6, 23, -10, 683, 1152, 39, 0, 143, 255),
    VTX(6, 12, -10, 683, 1223, 80, 31, 173, 255),
    VTX(11, 12, 0, 512, 1223, 103, 0, 60, 255),
    VTX(11, 23, 0, 512, 1152, 117, 0, 233, 255),
    VTX(6, 23, 10, 341, 1152, 78, 0, 90, 255),
    VTX(6, 12, 10, 341, 1223, 50, 32, 104, 255),
    VTX(11, 12, 0, 512, 1223, 73, 94, 242, 255),
    VTX(-6, 23, -10, -171, 1152, 0, 120, 0, 255),
    VTX(-11, 23, 0, 0, 1152, 0, 120, 0, 255),
    VTX(-6, 23, 10, 171, 1152, 0, 120, 0, 255),
}; 

static Vtx object_gi_bottleVtx_0005C0[11] = {
    VTX(-6, 23, -10, -171, 1152, 0, 120, 0, 255),
    VTX(-6, 23, 10, 171, 1152, 0, 120, 0, 255),
    VTX(6, 23, 10, 341, 1152, 0, 120, 0, 255),
    VTX(11, 23, 0, 512, 1152, 0, 120, 0, 255),
    VTX(6, 23, -10, 683, 1152, 0, 120, 0, 255),
    VTX(-9, -30, 15, 171, 1859, 241, 140, 25, 255),
    VTX(-18, -30, 0, 0, 1859, 185, 160, 0, 255),
    VTX(-9, -30, -15, -171, 1859, 238, 150, 204, 255),
    VTX(9, -30, -15, 683, 1859, 22, 145, 217, 255),
    VTX(18, -30, 0, 512, 1859, 60, 153, 0, 255),
    VTX(9, -30, 15, 341, 1859, 22, 158, 64, 255),
}; 

Gfx gGiBottleStopperDL[] = {
    gsDPPipeSync(),
    gsDPSetRenderMode(G_RM_PASS, G_RM_AA_ZB_TEX_EDGE2),
    gsDPSetCombineLERP(PRIMITIVE, ENVIRONMENT, TEXEL0, ENVIRONMENT, 0, 0, 0, 1,
                       COMBINED, K5, SHADE, COMBINED_ALPHA, 0, 0, 0, 1),
    gsDPSetPrimColor(0, 0, 110, 70, 0, 255),
    gsDPSetEnvColor(70, 40, 0, 255),
    gsDPSetTextureLUT(G_TT_NONE),
    gsSPTexture(65535, 65535, 0, 0, G_ON),
    gsDPSetTextureImage(G_IM_FMT_I, G_IM_SIZ_16b, 1, 0x04032C90),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_16b, 0, 0, 7, 0, 0, 5, 0, 0, 5, 0),
    gsDPLoadSync(),
    gsDPLoadBlock(7, 0, 0, 511, 512),
    gsDPPipeSync(),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_8b, 4, 0, 0, 0, 0, 5, 0, 0, 5, 0),
    gsDPSetTileSize(0, 0, 0, 124, 124),
    gsSPClearGeometryMode(G_TEXTURE_ENABLE | G_FOG | G_TEXTURE_GEN | G_TEXTURE_GEN_LINEAR),
    gsSPSetGeometryMode(G_TEXTURE_ENABLE | G_CULL_BACK | G_LIGHTING),
    gsSPVertex(&object_gi_bottleVtx_000000[0], 26, 0),
    gsSP2Triangles(0, 1, 2, 0, 3, 4, 5, 0),
    gsSP2Triangles(6, 7, 4, 0, 8, 9, 7, 0),
    gsSP2Triangles(10, 5, 11, 0, 12, 13, 14, 0),
    gsSP2Triangles(15, 11, 16, 0, 17, 16, 18, 0),
    gsSP2Triangles(2, 19, 0, 0, 19, 20, 0, 0),
    gsSP2Triangles(2, 21, 19, 0, 5, 10, 3, 0),
    gsSP2Triangles(4, 3, 6, 0, 7, 6, 8, 0),
    gsSP2Triangles(11, 15, 10, 0, 14, 22, 12, 0),
    gsSP2Triangles(22, 23, 12, 0, 14, 24, 22, 0),
    gsSP2Triangles(16, 17, 15, 0, 18, 25, 17, 0),
    gsSPEndDisplayList(),
}; 

Gfx gGiBottleDL[] = {
    gsDPPipeSync(),
    gsDPSetRenderMode(G_RM_OPA_SURF, G_RM_AA_ZB_XLU_SURF2),
    gsDPSetCombineLERP(TEXEL0, PRIMITIVE, PRIM_LOD_FRAC, TEXEL0, 0, 0, 0, TEXEL0,
                       PRIMITIVE, ENVIRONMENT, COMBINED, ENVIRONMENT, 0, 0, 0, COMBINED),
    gsDPSetPrimColor(0, 128, 255, 255, 255, 255),
    gsDPSetEnvColor(50, 100, 100, 255),
    gsDPSetTextureLUT(G_TT_NONE),
    gsSPTexture(2000, 2000, 0, 0, G_ON),
    gsDPSetTextureImage(G_IM_FMT_I, G_IM_SIZ_16b, 1, 0x04032890),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_16b, 0, 0, 7, 0, 0, 5, 15, 0, 5, 15),
    gsDPLoadSync(),
    gsDPLoadBlock(7, 0, 0, 511, 512),
    gsDPPipeSync(),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_8b, 4, 0, 0, 0, 0, 5, 15, 0, 5, 15),
    gsDPSetTileSize(0, 0, 0, 124, 124),
    gsSPClearGeometryMode(G_TEXTURE_ENABLE | G_CULL_BACK | G_FOG),
    gsSPSetGeometryMode(G_TEXTURE_ENABLE | G_LIGHTING | G_TEXTURE_GEN | G_TEXTURE_GEN_LINEAR),
    gsSPVertex(&object_gi_bottleVtx_0001A0[0], 3, 0),
    gsSP1Triangle(0, 1, 2, 0),
    gsSPVertex(&object_gi_bottleVtx_0001D0[0], 32, 0),
    gsSP2Triangles(0, 1, 2, 0, 2, 1, 3, 0),
    gsSP2Triangles(2, 3, 4, 0, 5, 6, 7, 0),
    gsSP2Triangles(8, 5, 7, 0, 9, 10, 11, 0),
    gsSP2Triangles(9, 11, 12, 0, 13, 14, 15, 0),
    gsSP2Triangles(12, 13, 15, 0, 0, 16, 15, 0),
    gsSP2Triangles(14, 0, 15, 0, 17, 18, 19, 0),
    gsSP2Triangles(17, 19, 20, 0, 2, 4, 7, 0),
    gsSP2Triangles(20, 2, 7, 0, 21, 7, 22, 0),
    gsSP2Triangles(21, 22, 23, 0, 24, 9, 25, 0),
    gsSP2Triangles(24, 25, 26, 0, 26, 12, 15, 0),
    gsSP2Triangles(26, 15, 27, 0, 27, 28, 16, 0),
    gsSP2Triangles(27, 16, 29, 0, 29, 16, 20, 0),
    gsSP1Triangle(29, 20, 30, 0),
    gsSPVertex(&object_gi_bottleVtx_0001D0[31], 32, 0),
    gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
    gsSP2Triangles(3, 4, 5, 0, 6, 3, 5, 0),
    gsSP2Triangles(7, 8, 9, 0, 7, 9, 10, 0),
    gsSP2Triangles(11, 12, 10, 0, 9, 11, 10, 0),
    gsSP2Triangles(11, 13, 14, 0, 12, 11, 14, 0),
    gsSP2Triangles(14, 13, 0, 0, 14, 0, 15, 0),
    gsSP2Triangles(3, 6, 15, 0, 0, 3, 15, 0),
    gsSP2Triangles(16, 17, 18, 0, 16, 18, 19, 0),
    gsSP2Triangles(20, 21, 22, 0, 20, 22, 23, 0),
    gsSP2Triangles(24, 25, 26, 0, 24, 26, 27, 0),
    gsSP2Triangles(23, 22, 25, 0, 23, 25, 28, 0),
    gsSP1Triangle(29, 30, 31, 0),
    gsSPVertex(&object_gi_bottleVtx_0005C0[0], 11, 0),
    gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
    gsSP2Triangles(0, 3, 4, 0, 5, 6, 7, 0),
    gsSP2Triangles(5, 7, 8, 0, 5, 8, 9, 0),
    gsSP1Triangle(5, 9, 10, 0),
    gsSPEndDisplayList(),
}; 

static u8 unaccounted_0008E8[8] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
}; 


